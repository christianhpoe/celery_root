<!--
SPDX-FileCopyrightText: 2026 Christian-Hauke Poensgen
SPDX-FileCopyrightText: 2026 Maximilian Dolling
SPDX-FileContributor: AUTHORS.md

SPDX-License-Identifier: BSD-3-Clause
-->

{% extends "base.html" %}

{% block content %}
  <article class="detail-hero">
    <div>
      <p class="eyebrow">Redis broker</p>
      <h2>{{ broker.broker_label }}</h2>
      <p class="detail-subtitle">
        Redis · Backends: {{ broker.backend_labels|join:", "|default:"—" }}
      </p>
    </div>
    <div class="detail-status">
      <span class="detail-runtime">{{ broker.queues|length }} queues</span>
      <span class="detail-runtime">{{ broker.workers|length }} workers attached</span>
    </div>
  </article>

  <section class="detail-card">
    <h3>Queues</h3>
    {% include "brokers/_queue_table.html" with queue_rows=broker.queues empty_message="No queues reported." %}
  </section>

  <section class="detail-card">
    <h3>Notes</h3>
    <p class="detail-runtime">
      Redis brokers typically expose pending length; unacked and rates may be unavailable.
    </p>
  </section>
{% endblock %}
